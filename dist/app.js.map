{"version":3,"sources":["app.js"],"names":["angular","module","HomeCtrl","constructor","$scope","$timeout","permissions","name","componentManager","window","ComponentManager","loggingEnabled","streamContextItem","item","analyzeNote","note","s","content","text","replace","wordCount","split","length","setSize","$$ngIsClass","controller"],"mappings":"AAAA;;AAEAA,QAAQC,MAAR,CAAe,KAAf,EAAsB,EAAtB,EAGC,MAAMC,QAAN,CAAe;AACdC,cAAYC,MAAZ,EAAoBC,QAApB,EAA8B;;AAE5B;AACA,QAAIC,cAAc,CAChB;AACEC,YAAM;AADR,KADgB,CAAlB;;AAUA,QAAIC,mBAAmB,IAAIC,OAAOC,gBAAX,CAA4BJ,WAA5B,EAAyC,YAAU;AACxE;AACD,KAFsB,CAAvB;;AAIAE,qBAAiBG,cAAjB,GAAkC,KAAlC;;AAEA;;;;;;;;;AASAH,qBAAiBI,iBAAjB,CAAmC,UAASC,IAAT,EAAc;AAC/C;AACAR,eAAS,YAAU;AACjBD,eAAOS,IAAP,GAAcA,IAAd;AACAT,eAAOU,WAAP,CAAmBV,OAAOS,IAA1B;AACD,OAHD;AAID,KAND;;AAQAT,WAAOU,WAAP,GAAqB,UAASC,IAAT,EAAe;AAClC,UAAIC,IAAID,KAAKE,OAAL,CAAaC,IAArB;AACAF,UAAIA,EAAEG,OAAF,CAAU,iBAAV,EAA4B,EAA5B,CAAJ,CAFkC,CAEE;AACpCH,UAAIA,EAAEG,OAAF,CAAU,WAAV,EAAsB,GAAtB,CAAJ,CAHkC,CAGH;AAC/BH,UAAIA,EAAEG,OAAF,CAAU,KAAV,EAAgB,IAAhB,CAAJ,CAJkC,CAIP;;AAE3Bf,aAAOgB,SAAP,GAAmBJ,EAAEK,KAAF,CAAQ,GAAR,EAAaC,MAAhC;AACD,KAPD;;AASA;AACAd,qBAAiBe,OAAjB,CAAyB,WAAzB,EAAsC,MAAtC,EAA8C,EAA9C;AACD;AAhDa;;AAmDhB;AACArB,SAASsB,WAAT,GAAuB,IAAvB;AACAxB,QAAQC,MAAR,CAAe,KAAf,EAAsBwB,UAAtB,CAAiC,UAAjC,EAA6CvB,QAA7C","file":"app.js","sourcesContent":["'use strict';\n\nangular.module('app', [\n\n])\n;class HomeCtrl {\n  constructor($scope, $timeout) {\n\n    // uncomment the permissions you need\n    var permissions = [\n      {\n        name: \"stream-context-item\"\n      },\n      // {\n      //   name: \"stream-items\",\n      //   content_types: [\"Tag\"]\n      // }\n    ]\n\n    let componentManager = new window.ComponentManager(permissions, function(){\n      // on ready\n    });\n\n    componentManager.loggingEnabled = false;\n\n    /*\n    componentManager.streamItems(function(items){\n      // perform updates in $timeout so Angular can $apply()\n      $timeout(function(){\n        $scope.items = items;\n      })\n    })\n    */\n\n    componentManager.streamContextItem(function(item){\n      // perform updates in $timeout so Angular can $apply()\n      $timeout(function(){\n        $scope.item = item;\n        $scope.analyzeNote($scope.item);\n      })\n    })\n\n    $scope.analyzeNote = function(note) {\n      var s = note.content.text;\n      s = s.replace(/(^\\s*)|(\\s*$)/gi,\"\");//exclude  start and end white-space\n      s = s.replace(/[ ]{2,}/gi,\" \");//2 or more space to 1\n      s = s.replace(/\\n /,\"\\n\"); // exclude newline with a start spacing\n\n      $scope.wordCount = s.split(' ').length;\n    }\n\n    // adjust the height as needed\n    componentManager.setSize(\"container\", \"100%\", 45);\n  }\n}\n\n// required for FireFox\nHomeCtrl.$$ngIsClass = true;\nangular.module('app').controller('HomeCtrl', HomeCtrl);\n"]}